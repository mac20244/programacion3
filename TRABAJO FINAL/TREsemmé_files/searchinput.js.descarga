/* Version=3.8.0,Timestamp=2024-06-11T10:33:44.368Z */

!function(){"use strict";var t=(()=>{const e=(e,t)=>{const s={headers:{"Content-type":"application/json"}},n={...s,...t,headers:{...s.headers,...t.headers}};return fetch(e,n)};return{get:(t,s)=>e(t,s),post:(t,s)=>e(t,{...s,method:"POST"})}})();!function(){const s=document.body.classList.contains("layout-rtl");var n="cmp",i="searchbar",r=0,l=null,o=!1,a=null,c=!1,u=!1,h=9,p=13,d=27,m=38,_=40,f=!0,y=0,g={self:'[data-cmp-is="'+i+'"]',item:{self:"[data-cmp-hook-"+i+'="item"]',title:"[data-cmp-hook-"+i+'="itemTitle"]',focused:".cmp-search__item--is-focused"}},v={minLength:{default:3,transform:function(e){let t=parseFloat(e);return isNaN(t)?null:t}},resultsSize:{default:10,transform:function(e){let t=parseFloat(e);return isNaN(t)?null:t}},searchQuery:""},b=0,S=0;let L=document.querySelector(".searchinput");const T=["/p/","/r/","/product/","/recipes/"];function w(e,t){t?r+=.1:r-=.1,r<-.1?r=-.1:(e.style.opacity=r,e.style.display="block"),r<=1&&r>=0?l=setTimeout((function(){w(e,t)}),35):(clearTimeout(l),0==t&&(e.style.display="none"))}function k(e){var t=e.dataset,s=[],r=i,l=["is","hook"+(r=r.charAt(0).toUpperCase()+r.slice(1))];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];0===o.indexOf(n)?(o=(o=o.slice(n.length)).charAt(0).toLowerCase()+o.substring(1),-1===l.indexOf(o)&&(s[o]=a)):s[o]=a}return s}function q(e,t){e&&(!1!==t?(e.style.display="block",e.setAttribute("aria-hidden",!1)):(e.style.display="none",e.setAttribute("aria-hidden",!0)))}function C(e){var t=[];if(e&&e.elements)for(var s=0;s<e.elements.length;s++){var n=e.elements[s];if(!n.disabled&&n.name){var i=[n.name,encodeURIComponent(n.value)];t.push(i.join("="))}}return t.join("&")}function A(e){var t=[];if(e&&e.elements)for(var s=0;s<e.elements.length;s++){var n=e.elements[s];if(!n.disabled&&n.name){var i=["qtype",encodeURIComponent(n.value)];t.push(i.join("="))}}return t.join("&")}function E(e,t){if(e&&t)if(3===e.nodeType){var s=e.nodeValue,n=t.exec(s);if(s&&n){var i=document.createElement("b");i.className="cmp-search__item-mark",i.appendChild(document.createTextNode(n[0]));var r=e.splitText(n.index);r.nodeValue=r.nodeValue.substring(n[0].length),e.parentNode.insertBefore(i,r)}}else if(e.hasChildNodes())for(var l=0;l<e.childNodes.length;l++)E(e.childNodes[l],t)}function D(e){return Array.from(new Set(e.map((e=>e.text)))).map((t=>e.find((e=>e.text===t))))}function M(e,t){return t?e.filter((e=>!e.score||e.score>t)):e}function R(e){return e.sort((function(e,t){var s=e.text.toLowerCase(),n=t.text.toLowerCase();return s<n?-1:s>n?1:0}))}function x(e){if(e.element&&e.element.removeAttribute("data-cmp-is"),this._searchcontent=e.element,this._isSingleInput=e.searchSingleInput||!1,this._cacheElements(e.element),this._setupProperties(e.options),this._configProps(e),this._voiceSearch(),this._searchQueryFlag){this._generateQueryMappings(this._productData,this._articleData,this._recipeData);var t=this._generateQueryTypes(this._productData,this._articleData,this._recipeData,this._orderByQuery);this._defaultQueryTypes=t}else this._defaultQueryTypes=0;"true"===this._enableAutoSuggest?(this._elements.input.addEventListener("input",this._onInput.bind(this)),this._elements.input.addEventListener("focus",this._onInput.bind(this)),this._elements.input.addEventListener("keydown",this._onKeydown.bind(this)),this._elements.input.addEventListener("keyup",this._onKeyup.bind(this)),this._elements.results.addEventListener("scroll",this._onScroll.bind(this)),this._elements.results.addEventListener("click",this._onFormSumbit.bind(this)),this._elements.form.addEventListener("submit",this._onFormSumbit.bind(this)),this._elements.submit.addEventListener("keydown",this._searchKeyDown.bind(this)),this._elements.results.predefined.addEventListener("scroll",this._onScroll.bind(this)),this._elements.results.predefined.addEventListener("click",this._onFormSumbit.bind(this))):(this._elements.input.addEventListener("input",this._onInputNonSuggest.bind(this)),this._elements.input.addEventListener("focus",this._onInputNonSuggest.bind(this)),this._elements.input.addEventListener("keydown",this._onKeydownNonSuggest.bind(this)),this._elements.input.addEventListener("keyup",this._onKeyupNonSuggest.bind(this)),this._elements.submit.addEventListener("keydown",this._searchKeyDownNonSuggest.bind(this)),this._elements.form.addEventListener("submit",this._formSubmitNonSuggest.bind(this)));const s=this._elements.input,n=this._elements.submit,i=s.placeholder;let r=!1;const l=this._elements.voice;this._elements.voice&&(this._elements.voice.addEventListener("keydown",this._searchKeyDownVoice.bind(this)),this._elements.voice.addEventListener("click",(function(){const e=document.querySelector(".voice-search-message");if(a){if(r)return a.stop(),l.classList.remove("listening"),s.placeholder=i,void(r=!1);if(a.start(),s.value="",s.placeholder=l.getAttribute("data-placeholder")+"...",l.classList.add("listening"),e&&(e.style.display="none"),r=!0,u=!1,void 0!==window.adobeDataLayer&&window.adobeDataLayer){(window.adobeDataLayer||[])&&(window.adobeDataLayer.push({component:{linkClick:null}}),window.adobeDataLayer.push({event:"cmp:click",eventInfo:{path:"component.linkClick"},component:{linkClick:{"dc:title":"voice search mic"}}}))}}}))),a&&(a.addEventListener("result",(function(e){const t=document.querySelector(".voice-search-message");let o=e.results[0][0].transcript;o&&(-1!=o.indexOf(".")&&(o=o.replace(".","")),s.value=o,s.placeholder=i,l.classList.remove("listening"),sessionStorage.setItem("queryMethod","voice:"),u=!0,n.click()),t&&(t.style.display="none"),r=!1})),a.addEventListener("error",(function(e){const t=document.querySelector(".voice-search-message"),s=document.querySelector(".search-bar-results-page");if(r=!1,u=!1,"not-allowed"===e.error){const e=l.getAttribute("data-permission")||"Please allow microphone permission";t?(t.textContent=e,t.style.display="block"):s.insertAdjacentHTML("afterend",'<p class="voice-search-message">'+e+"</p>")}else console.error(error)}))),this._predefinedList.length>0&&this._displayPredefinedList(this._predefinedList,this._elements.results,this._elements.results.tagline,this._searchTagline),this._elements.clear.addEventListener("click",this._onClearClick.bind(this)),this._elements.clear.addEventListener("keydown",this._searchKeyDownClear.bind(this)),this._elements.closeOverlay.addEventListener("keydown",this._closeButton.bind(this)),this._elements.overLay.addEventListener("click",this._handleOverLayClicks.bind(this)),"false"===this._enableAutoSuggest&&(this._elements.input&&this._elements.input.value&&this._elements.input.value.length?q(this._elements.clear,!0):q(this._elements.clear,!1)),this._makeAccessible()}function O(){if(L){if(L.querySelector(".search-result-input")){var e=L.querySelector(".search-toggle"),t=L.querySelector(".modal-overlay-close"),s=L.querySelector(".modal-search"),n=document.querySelector("body"),i=L.querySelector(".search-bar-input");function a(e){9===e.keyCode&&e.preventDefault()}function c(){n.removeEventListener("keydown",a),s.removeEventListener("click",u)}function u(e){const t=L.querySelector(".modal-body").getBoundingClientRect();e.clientY>t.bottom+10&&(w(s,0),c(),i.value="",s.removeEventListener("click",u))}if(function(){let e=L.querySelector(".search-toggle-icon"),t=L.querySelector(".search-toggle-text");e&&t&&(e.removeAttribute("aria-label"),t.removeAttribute("aria-label"))}(),s.classList.contains("filter-search")){let h=s.querySelector(".c-search-sub-brand");h&&Array.prototype.forEach.call(s.querySelectorAll(".search__subbrand__item"),(function(e){e.addEventListener("click",(function(){h.querySelector(".search__subbrand__item.active").classList.remove("active"),e.classList.add("active"),e.querySelector('input[name="subbrand"]').checked=!0;let t=e.querySelector('input[name="subbrand"]').id;s.classList.remove(...s.classList),s.classList.add("modal-search","filter-search",t)}))}))}s&&window.addEventListener("keydown",(function(t){if(27==t.keyCode){let n=window.getComputedStyle(s);t.preventDefault(),w(s,0),c(),i.value="","none"!==n.display&&e.focus()}})),e&&t&&(e.addEventListener("click",(function(e){w(s,1),n.addEventListener("keydown",a),s.addEventListener("click",u),i.focus();for(var t=L.querySelectorAll(g.self),r=0;r<t.length;r++)new x({element:t[r],options:k(t[r])});if(s.classList.contains("filter-search")){let e=s.querySelector(".c-search-sub-brand"),t=!1;if(e){const n=document.querySelector("body");Array.prototype.forEach.call(e.querySelectorAll('input[name="subbrand"]'),(function(e){n.classList.contains(e.id)?(e.checked=!0,e.closest(".search__subbrand__item").classList.add("active"),s.classList.remove(...s.classList),s.classList.add("modal-search","filter-search",e.id),t=!0):e.closest(".search__subbrand__item").classList.contains("active")&&e.closest(".search__subbrand__item").classList.remove("active")})),0==t&&(e.querySelector("#default").checked=!0,e.querySelector("#default").closest(".search__subbrand__item").classList.add("active"),s.classList.remove(...s.classList),s.classList.add("modal-search","filter-search"))}}})),t.addEventListener("click",(function(t){w(s,0),c(),i.value="",e.focus()})))}}var r=document.querySelector(".search-input-only"),l=r&&r.querySelector(g.self),o=r&&r.querySelector(".search-bar-btn-handler-voice-to-text");r&&o&&!o.classList.contains("listening")&&new x({element:r,options:k(l),searchSingleInput:!1}),r&&!o&&new x({element:r,options:k(l),searchSingleInput:!0})}x.prototype._configProps=function(e){this._resultCount=e.options.resultCount||0,this._action=e.options.suggestEndpoint||"",this._fetchAsync=e.options.fetchResultsAsync||!1,this._aemUrl=e.options.aemEndpoint||"",this._relevanceThreshold=e.options.relevanceThreshold||0,this._properties.minLength=v.minLength.transform(e.options.minimumInputChar)||this._properties.minLength,this._headerStore=e.options.headerStore||"",this._headerIpglncode=e.options.headerIpglncode||"",this._headerAssortmentcode=e.options.headerAssortmentcode||"",this._headerEnv=e.options.headerEnv||"",this._preSuggesttion=!0,this._resultsOffset=0,this._hasMoreResults=!0,this._searchTagline=e.options.preSearchTagline||"",this._postsearchTagline=e.options.postSearchTagline||"",this._predefinedList=e.options.predefinedList||"",this._enableAutoSuggest=e.options.autoSuggest||"false",this._autoSuggestConfig=e.options.autoSuggestConfig?JSON.parse(e.options.autoSuggestConfig):{},this._productData=this._autoSuggestConfig.product||{},this._articleData=this._autoSuggestConfig.article||{},this._recipeData=this._autoSuggestConfig.recipe||{},this._searchQueryFlag=this._autoSuggestConfig.defaultQueryByTypeFlag||!1,this._productResultCount=this._productData.autoSuggestTypeCount||0,this._articleResultCount=this._articleData.autoSuggestTypeCount||0,this._recipeResultCount=this._recipeData.autoSuggestTypeCount||0,this._orderByQuery=this._autoSuggestConfig.orderBy||[],this._searchUrl=e.options.searchUrl||"",this._searchProductUrl=e.options.searchProductUrl||"",this._searchArticleUrl=e.options.searchArticleUrl||"",this._searchRecipeUrl=e.options.searchRecipeUrl||""},x.prototype._searchKeyDownVoice=function(e){if(e.shiftKey&&9===e.keyCode){const t=e.target.closest(".search-bar").querySelector(".search-bar-btn-clear");setTimeout((()=>{t&&"none"!==t.style.display?t.focus():(this._elements.input.focus(),this._elements.input.classList.add("tabFocus"))}),1)}9!==e.keyCode||e.shiftKey||setTimeout((()=>{this._elements.submit.focus()}),1)},x.prototype._voiceSearch=function(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let e=()=>{const e=document.querySelector("html").getAttribute("lang");return e&&2!==e.length?e:"en-GB"};if((a=new(window.webkitSpeechRecognition||window.SpeechRecognition)).lang=e(),"webkitSpeechGrammarList"in window||"SpeechGrammarList"in window){const e="#JSGF V1.0; grammar colors; public <brand> = Dove | Knorr | Lifebuoy | Rexona | Axe | Magnum | Hellmann's | comfort | Domestes | OMO | Sunsilk | Cif | Lux | Vaseline ;",t=new(window.SpeechGrammarList||window.webkitSpeechGrammarList);t.addFromString(e,1),a.grammars=t}const t=document.querySelector(".search-bar"),s=this._elements.voice;s&&(t.classList.add("voice-to-text-enabled"),s.style.display="inline-block",c=!0)}},x.prototype._handleOverLayClicks=function(e){this._elements.input.classList.remove("tabFocus")},x.prototype._searchKeyDownNonSuggest=function(e){e.shiftKey&&9===e.keyCode?c?setTimeout((()=>{this._elements.voice.focus()}),1):(this._elements.input.focus(),this._elements.input.classList.add("tabFocus")):e.keyCode===h&&(this._elements.input.value.length&&this._elements.input.value.length>0?"none"!=this._elements.clear.style.display?this._elements.clear.focus():c?this._elements.voice.focus():(this._elements.input.focus(),this._elements.input.classList.add("tabFocus")):this._elements.closeOverlay.focus())},x.prototype._closeButton=function(e){e.shiftKey&&9===e.keyCode?this._elements.submit.focus():e.keyCode===h&&(this._elements.input.focus(),this._elements.input.classList.add("tabFocus"))},x.prototype._searchKeyDownClear=function(e){e.shiftKey&&9===e.keyCode?(this._elements.input.focus(),this._elements.input.classList.add("tabFocus")):e.keyCode===h&&(c?this._elements.voice.focus():this._elements.submit.focus())},x.prototype._searchKeyDown=function(e){if(e.shiftKey&&9===e.keyCode){const e=this._elements.input;e&&e.value.length?this._elements.overLay?c?this._elements.voice.focus():this._elements.clear.focus():setTimeout((()=>{this._elements.clearTag.focus()}),1):c?this._elements.voice.focus():(e.focus(),e.classList.add("tabFocus"))}else e.keyCode===h&&this._elements.overLay&&this._elements.closeOverlay.focus()},x.prototype._onKeydownNonSuggest=function(t){if(t.shiftKey&&9===t.keyCode)e.target.closest(".search-input-only")||(t.preventDefault(),this._elements.closeOverlay.focus());else switch(t.keyCode){case h:t.preventDefault(),c?this._elements.voice.focus():this._elements.submit.focus(),this._elements.input.classList.remove("tabFocus");break;case p:t.preventDefault(),this._formSubmitNonSuggest()}},x.prototype._onKeyupNonSuggest=function(e){e.keyCode==p&&this._formSubmitNonSuggest(e)},x.prototype._formSubmitNonSuggest=function(e){if(u||(sessionStorage.removeItem("queryMethod"),u=!1),!this._isSingleInput){let t=this._elements.input.value,s=this._elements.input.parentElement.getAttribute("action");if(e&&(e.preventDefault(),e.stopPropagation()),!t)return this._elements.input.focus(),!1;window.location.href=`${window.location.origin}${s}?query=${encodeURIComponent(this._elements.input.value)}`}},x.prototype._generateQueryMappings=function(e,t,s){this._queryMappings=[];let n=e.defaultQueryByType||"",i=t.defaultQueryByType||"",r=s.defaultQueryByType||"",l=e.enableAutoSuggestionType||"",o=t.enableAutoSuggestionType||"",a={key:n.length?n.split(" ")[2]:"",val:l},c={key:i.length?i.split(" ")[2]:"",val:o};if(""==!r){let e=s.enableAutoSuggestionType||"",t={key:r.length?r.split(" ")[2]:"",val:e};this._queryMappings=[a,c,t]}else this._queryMappings=[a,c]},x.prototype._generateQueryTypes=function(e,t,s,n){var i="";let r=e.defaultQueryByType||"",l=t.defaultQueryByType||"",o=s.defaultQueryByType||"",a=n&&n.length?n:[],c=r.length?r.split(" ")[2]:"",u=l.length?l.split(" ")[2]:"",h=o.length?o.split(" ")[2]:"";if(n.length){let e=[],t=[];a.forEach((s=>{"product"===s.toLowerCase()?(e.push(r),t.push(c)):"article"===s.toLowerCase()?(e.push(l),t.push(u)):(e.push(o),t.push(h))})),i=3==n.length?e[0].concat(":",t[0],"--",e[n.length-2],":",t[n.length-2],"--",e[n.length-1],":",t[n.length-1]):2==n.length?e[0].concat(":",t[0],"--",e[n.length-1],":",t[n.length-1]):e[0].concat(":",t[0])}return i},x.prototype._displayPredefinedList=function(e,t,s,n){if(this._predefinedList.length){q(this._elements.results.container,!0);var i=e.split(","),r=this;t.innerHTML="";let l=i?i.length:0;0===y&&(s.setAttribute("aria-label",`${l} ${n}`),s.setAttribute("role","alert")),s.innerHTML=n,this._elements.results.container.appendChild(s),this._elements.results.container.appendChild(t),i&&i.forEach((function(e){var s=document.createElement("span");s.innerHTML=r._elements.itemTemplate.innerHTML,s.querySelectorAll(g.item.title)[0].appendChild(document.createTextNode(e.trim())),t.innerHTML+=s.innerHTML})),q(r._elements.results,!0)}else t.innerHTML=""},x.prototype._onKeydown=function(e){var t=this;if(e.shiftKey&&9===e.keyCode)this._elements.closeOverlay&&this._elements.closeOverlay.focus(),this._elements.input.classList.remove("tabFocus");else switch(e.keyCode){case h:if(t._resultsOpen()){e.preventDefault();const t=this._elements.input;t&&t.value.length?(this._elements.clearTag&&this._elements.clearTag.focus(),this._elements.clear&&this._elements.clear.focus()):c?this._elements.voice.focus():this._elements.submit.focus(),t.classList.remove("tabFocus")}break;case p:if(e.preventDefault(),t._resultsOpen()){var s=t._elements.results.querySelector(g.item.focused);s&&s.click()}break;case d:t._cancelResults();break;case m:t._resultsOpen()&&(e.preventDefault(),t._stepResultFocus(!0));break;case _:t._resultsOpen()?(e.preventDefault(),t._stepResultFocus()):t._onInput()}},x.prototype._displayResults=function(){var e=this;this._result=[],0===this._elements.input.value.length?(q(this._elements.clear,!1),this._cancelResults()):this._elements.input.value.length<this._properties.minLength?(o=!1,q(this._elements.clear,!0)):(o||(this._elements.results.innerHTML="",this._elements.results.tagline.innerHTML=""),o=!0,f&&(e._elements.results.tagline.removeAttribute("aria-label"),e._elements.results.tagline.removeAttribute("role"),e._elements.results.container.style.display="none",f=!1),this._preSuggesttion&&this._displayPreDefinedSuggestion(),"true"===this._enableAutoSuggest?this._timeout=setTimeout((()=>{this._updateAllResults()}),150):(S<1&&(e._generateItems(e._preDefinedSuggestion,e._elements.results),S++),q(e._elements.results,!0)),q(this._elements.clear,!0))},x.prototype._createApiUrl=function(){return(this._action.includes("adobeioruntime.net")?this._action:window.location.origin+this._action)+"?"+C(this._elements.form)+"&resultsOffset="+this._resultsOffset+"&length="+this._productResultCount},x.prototype._createRecipeUrl=function(){let e=window.location.origin+window.location.pathname;let t;return T.forEach((s=>{-1!==e.indexOf(s)&&(t=e.split(s)[0]+"/home.html")})),t?`${t.split("html")[0]}recipeListing.json?query=suggestquery&${A(this._elements.form)}`:`${window.location.origin}${window.location.pathname.split("html")[0]}recipeListing.json?query=suggestquery&${A(this._elements.form)}`},x.prototype._createAemUrl=function(){let e=window.location.origin+window.location.pathname;let t;return this._aemUrl?this._aemUrl:T.forEach((s=>{-1!==e.indexOf(s)&&(t=e.split(s)[0]+"/home.html")})),t?t.replace(".html",".autocomplete.json")+"?"+C(this._elements.form)+"&offset="+this._resultsOffset+"&length="+this._articleResultCount:e.replace(".html",".autocomplete.json")+"?"+C(this._elements.form)+"&offset="+this._resultsOffset+"&length="+this._articleResultCount},x.prototype._createPreDefinedSuggestions=function(e){if(this._defaultQueryTypes){let s=e.trim();var t=this._defaultQueryTypes.split("--")||[];t.forEach((e=>{var t=e.split(":")[0].replace("{{Query}} ","").trim(),n=s.split(" ").slice(-2).join(" ").trim();t===n&&(s=s.replace(n,""))})),this._preDefinedSuggestion=t.map((e=>({text:e.split(":")[0].replace("{{Query}}",s.trim()),value:e.split(":")[1]})))}},x.prototype._displayPreDefinedSuggestion=function(){this._generatePreDefinedItems(this._preDefinedSuggestion,this._elements.results.predefined)},x.prototype._generatePreDefinedItems=function(e,t){if(this._elements.input.value.length){var s=this;t.innerHTML="";var n=this._elements.input.value;if(!n)return;e&&e.forEach((function(e){var i=document.createElement("span");i.innerHTML=s._elements.itemTemplate.innerHTML;var r=i.querySelectorAll(g.item.title)[0];r.appendChild(document.createTextNode(e.text)),r.innerHTML=r.innerText.replace(n,`<span class="search-text-b">${n}</span>`),t.innerHTML+=i.innerHTML}))}},x.prototype._onScroll=function(e){this._elements.results.scrollTop+2*this._elements.results.clientHeight>=this._elements.results.scrollHeight&&(this._resultsOffset+=this._properties.resultsSize,this._preSuggesttion=!1,this._displayResults())},x.prototype._onInput=function(e){var t=e.target.value;if(!t||!t.match(/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/)){this._properties.searchQuery=t,""==this._properties.searchQuery?L.querySelector(".search-bar .search-bar-input").classList.add("no-search-results"):L.querySelector(".search-bar .search-bar-input").classList.remove("no-search-results"),this._createPreDefinedSuggestions(this._properties.searchQuery),t.length>=this._properties.minLength?(this._cancelResults(),this._displayResults()):(f=!0,this._predefinedList.length>0?(this._elements.results.predefined.innerHTML="",this._displayPredefinedList(this._predefinedList,this._elements.results,this._elements.results.tagline,this._searchTagline)):(this._elements.results.container.innerHTML="",this._elements.results.predefined.innerHTML="")),t.length?this._elements.clear.style.display="block":this._elements.clear.style.display="none"}},x.prototype._onInputNonSuggest=function(e){e.target.value.length?this._elements.clear.style.display="block":this._elements.clear.style.display="none"},x.prototype._onKeyup=function(e){e.keyCode==p&&this._onFormSumbit(e)},x.prototype._onClearClick=function(e){e.preventDefault(),this._elements.input.value="",this._elements.input.focus(),q(this._elements.clear,!1),"true"===this._enableAutoSuggest&&(this._elements.results.predefined.innerHTML="",this._elements.results.tagline.innerHTML="",this._displayPredefinedList(this._predefinedList,this._elements.results,this._elements.results.tagline,this._searchTagline))},x.prototype._onDocumentClick=function(e){var t=this._elements.input.contains(e.target),s=this._elements.results.contains(e.target);t||s||q(this._elements.results,!1)},x.prototype._resultsOpen=function(){return!0},x.prototype._makeAccessible=function(){var e="cmp-search-results-"+b;"true"===this._enableAutoSuggest&&(this._elements.results.id=e),b++},x.prototype._generateItems=function(e,t){if(this._elements.input.value.length>=this._properties.minLength){y++;let i=this._searchcontent.querySelector(".search-predefined-divider");var s=this;if(e&&e.length>0){q(this._elements.results.container,!0),i&&q(i,!0),t.innerHTML="",0===this._predefinedList.length?(this._elements.results.tagline.innerHTML=s._postsearchTagline,this._elements.results.container.appendChild(this._elements.results.tagline),this._elements.results.container.appendChild(t),q(this._elements.results,!0)):(s._elements.results.tagline.removeAttribute("aria-label"),s._elements.results.tagline.removeAttribute("role"),s._elements.results.tagline.innerHTML=s._postsearchTagline);let r=e?e.length:0;document.querySelector(".reader-search").innerHTML=`${r} ${s._postsearchTagline}`,document.querySelector(".reader-search-parent").setAttribute("role","alert");var n=this._elements.input.value;if(!n)return;if(e){const i=e.map((e=>e.text));let r=[],l=[];i.forEach((function(e){l.includes(e)||l.includes(e.toLowerCase())||(r.push(e),l.push(e.toLowerCase()))}));[...new Set(r)].forEach((function(e){var i=document.createElement("span");i.innerHTML=s._elements.itemTemplate.innerHTML;var r=i.querySelectorAll(g.item.title)[0];r.appendChild(document.createTextNode(e)),r.innerHTML=r.innerText.replace(n,`<span class="search-text-b">${n}</span>`),t.innerHTML+=i.innerHTML}));let o=document.createElement("hr");o.classList.add("search-predefined-divider"),t.appendChild(o)}}else{t.innerHTML="";let n=e?e.length:0;document.querySelector(".reader-search").innerHTML=`${n} ${s._postsearchTagline}`,document.querySelector(".reader-search-parent").setAttribute("role","alert"),q(this._elements.results.container,!1),i&&q(i,!1)}}},x.prototype._markResults=function(){for(var e=this._elements.results.querySelectorAll(g.item.self),t=this._elements.input.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=new RegExp("("+t+")","gi"),n=this._resultsOffset-1;n<e.length;++n){E(e[n],s)}},x.prototype._stepResultFocus=function(e){var t,s=[...this._elements.results.querySelectorAll(g.item.self),...this._elements.results.predefined.querySelectorAll(g.item.self)],n=this._elements.results.querySelector(g.item.focused),i=this._elements.results.predefined.querySelector(g.item.focused),r=n||i,l=Array.prototype.indexOf.call(s,r),o="cmp-search__item--is-focused";if(s.length>0)if(e){if(l>=1&&s[l]&&s[l-1]?(s[l].classList.remove(o),s[l-1].classList.add(o),this._elements.input.value=s[l-1].innerText):s[l]&&(s[l].classList.remove(o),this._elements.input.value=this._properties.searchQuery||""),t=this._elements.results.querySelector(g.item.focused)){var a=this._elements.results.scrollTop-t.offsetTop;a>0&&(this._elements.results.scrollTop-=a)}}else if(l<0&&s[0]?(s[0].classList.add(o),this._elements.input.value=s[0].innerText):l===s.length-1&&s[l]&&s[0]?(s[l].classList.remove(o),s[0].classList.add(o),this._elements.input.value=s[0].innerText):l+1<s.length&&s[l]&&s[l+1]&&(s[l].classList.remove(o),s[l+1].classList.add(o),this._elements.input.value=s[l+1].innerText),t=this._elements.results.querySelector(g.item.focused)){var c=t.offsetTop+t.offsetHeight-this._elements.results.scrollTop-this._elements.results.clientHeight;c>0?this._elements.results.scrollTop+=c:this._onScroll()}},x.prototype._updateAllResults=function(){var e=this;if(e._hasMoreResults){var s=this._createApiUrl(),n=this._createAemUrl(),i=this._createRecipeUrl(),r=null,l=null,o=null;if(-1!=this._orderByQuery.indexOf("product")){let n={store:e._headerStore,"assortment-code":e._headerAssortmentcode,"ipgln-code":e._headerIpglncode};e._headerEnv&&e._headerEnv.length&&(n["u-env-id"]=e._headerEnv),r=t.get(s,{headers:{...n}}).then((e=>e.status>=200&&e.status<400?e.json():{}))}else r=Promise.resolve();l=-1!=this._orderByQuery.indexOf("article")?t.get(n,{headers:{}}).then((e=>e.status>=200&&e.status<400?e.json():{})):Promise.resolve(),o=-1!=this._orderByQuery.indexOf("recipe")?t.get(i,{headers:{}}).then((e=>e.status>=200&&e.status<400?e.json():{})):Promise.resolve(),Promise.all([r,l,o]).then((([t,s,n])=>{var i=[],r=[],l=[];if(null!=t&&(e._result=t["did-you-mean"][0].options,e._result=e._result.slice(0,e._productResultCount),i=R(D(M(e._result,e._relevanceThreshold))).slice(0,e._productResultCount)),null!=s&&(r=R(D(M(s.suggest["did-you-mean"][0].options,e._relevanceThreshold))).slice(0,e._articleResultCount)),null!=n&&(l=R(D(M(JSON.parse(n.suggestquery),e._relevanceThreshold))).slice(0,e._recipeResultCount)),this._orderByQuery&&this._orderByQuery.length){let t=[];this._orderByQuery.forEach((e=>{"product"===e.toLowerCase()?t.push(...i):"article"===e.toLowerCase()?t.push(...r):t.push(...l)})),e._result=t}e._result.length>0?e._generateItems(e._result,e._elements.results):(e._hasMoreResults=!1,e._generateItems([],e._elements.results)),e._elements.results.querySelectorAll(g.item.self).length%e._properties.resultsSize>0&&(e._hasMoreResults=!1)})).catch((e=>{})).finally((()=>{q(e._elements.loadingIndicator,!0),q(e._elements.icon,!1)}))}},x.prototype._cancelResults=function(e=!1){clearTimeout(this._timeout),this._elements.results.scrollTop=0,this._resultsOffset=0,this._hasMoreResults=!0},x.prototype._cacheElements=function(e){this._elements={},this._elements.self=e,this._elements.form=e.querySelector("form"),this._elements.input=e.querySelector("form input"),this._elements.results=e.querySelector(".searchbar-result"),this._elements.results.container=e.querySelector(".searchbar-result-container"),this._elements.results.predefined=e.querySelector(".searchbar-result-predefined"),this._elements.results.tagline=e.querySelector(".search-result-tagline"),this._elements.loader=e.querySelector(".searchbar-loader"),this._elements.submit=e.querySelector(".search-bar-btn-handler"),this._elements.clear=e.querySelector(".search-bar-btn-clear"),this._elements.itemTemplate=e.querySelector(".searchbar-itemTemplate"),this._elements.closeOverlay=L.querySelector(".modal-overlay-close"),this._elements.overLay=L.querySelector(".modal-search"),this._elements.voice=e.querySelector(".search-bar-btn-handler-voice-to-text-pop-up");for(var t=this._elements.self.querySelectorAll("[data-cmp-hook-"+i+"]"),s=0;s<t.length;s++){var n=t[s],r=i;r=r.charAt(0).toUpperCase()+r.slice(1);var l=n.dataset["cmpHook"+r];this._elements[l]=n}},x.prototype._setupProperties=function(e){for(var t in this._properties={},v)if(v.hasOwnProperty(t)){var s=v[t];e&&e[t]?s&&"function"==typeof s.transform?this._properties[t]=s.transform(e[t]):this._properties[t]=e[t]:this._properties[t]=v[t].default}},x.prototype._onFormSumbit=function(e){var t,n=!1,i="",r="";if(t=e.target===this._elements.form?this._elements.input.value:e.target?e.target.value||function(e){const t=e.closest(".searchbar-itemTitle");let s;return s=t?t.innerText:e.innerText,s}(e.target):e.innerText,e.target&&(e.preventDefault(),e.stopPropagation()),!t)return this._elements.input.focus(),!1;u||(sessionStorage.removeItem("queryMethod"),u=!1);let l=this._elements.form.closest(".modal-search.filter-search"),o="";l&&l.querySelector('input[name="subbrand"]:checked')&&(o="on"==l.querySelector('input[name="subbrand"]:checked').value?"":"&stags="+l.querySelector('input[name="subbrand"]:checked').value+"&sbc="+l.querySelector('input[name="subbrand"]:checked').id),this._preDefinedSuggestion?this._queryMappings&&this._queryMappings.length&&this._queryMappings.forEach((function(e){s?(t.includes(e.val)||t.includes(e.key))&&(n=!0,i=e.val):t.includes(e.key)&&(n=!0,i=e.val)})):(r=`${this._searchUrl}?query=${encodeURIComponent(t)}`,window.location.href=r+o),n?(r="product"===i?`${this._searchProductUrl}?query=${encodeURIComponent(t.split(" ").slice(0,-2).join(" "))}`:"article"===i?`${this._searchArticleUrl}?query=${encodeURIComponent(t.split(" ").slice(0,-2).join(" "))}`:`${this._searchRecipeUrl}?query=${encodeURIComponent(t.split(" ").slice(0,-2).join(" "))}`,window.location.href=r+o):(r=`${this._searchUrl}?query=${encodeURIComponent(t)}`,window.location.href=r+o)},"loading"!==document.readyState?O():document.addEventListener("DOMContentLoaded",O)}()}();