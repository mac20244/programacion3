'use strict';Vue.component('awe-opening-hours',{props:{hours:{type:Array,default:()=>[]},timezone:{type:String,default:''},open24:{type:Boolean,default:!1}},data:function(){return{expanded:!1,isOpen:!1,nextLimit:'',nextDay:'',i18n:this.$root.i18n,days:['su','mo','tu','we','th','fr','sa'],boundaries:{}}},computed:{_hours:function(){return this.open24?[['Mo-Su','0:00-24:00']]:this.hours}},mounted:function(){let t=new Date;if(this.open24)return this.isOpen=!0,void(this.nextLimit='');if(this.timezone){const n=t.toLocaleString('en-US',{timeZone:this.timezone});t=new Date(n)}this.boundaries=this.getBoundaries();const n=t.getDay(),e=this.boundaries[this.days[n]];if(e){const i=t.getHours()+t.getMinutes()/60;let[s,o]=this.findOpenState(e,i);if(this.isOpen=s,null==o||o.startsWith('24')){let t=null,e=null,i=0;for(;!e&&i++<7;)t=this.days[(n+i)%7],e=this.boundaries[t];e&&null==o?o=e[0][0]:e&&0===e[0][1]&&(o=e[1][0])}this.nextLimit=o}},methods:{getBoundaries:function(){let t={},n=[];for(let e=0;e<this.hours.length;e++){const i=n;for(let s=1;s<this.hours[e].length;s++){const o=/(\d{1,2})[\.hH:](\d{0,2})/g;let a,r=-1;for(;a=o.exec(this.hours[e][s]);){let t=a[0];let e=parseInt(a[1],10)+parseInt(a[2],10)/60;e<r?(n=[['00:00',0],[t,e]],t='24:00',e=24):n=[],i.push([t,e]),r=e}t[this.hours[e][0].toLowerCase()]=i}}return n.length&&(t.mo=n.concat(t.mo)),t},findOpenState:function(t,n){let e,i=!1;if(t.length%2==0){let s=0,o=!1;for(;s<t.length&&!o;){let a=t[s++],r=t[s++];n<a[1]?(o=!0,e=a[0]):n>=a[1]&&n<r[1]&&(i=!0,o=!0,e=r[0])}}return[i,e]}},template:'\n  <div class="opening-hours" :class="{expanded: expanded}">\n    <div class="hr-title" @click="expanded = !expanded">\n      <span class="icon-time"></span>\n      <span class="title-content">\n      {{ i18n.getString(isOpen ? \'STORE_OPEN\': \'STORE_CLOSED\')}}\n      {{ nextLimit ? \' - \'+ i18n.getString(isOpen ? \'STORE_CLOSES_AT\' : (nextDay ? \'STORE_OPENS_AT_\'+ nextDay : \'STORE_OPENS_AT\'), {hour: i18n.getOpeningHours(nextLimit)}) : \'\'}}\n      </span>\n      <svg viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg" class="arrow"><path d="M21 1a2.1213 2.6517 45 013 3L14 14a2 2.1 0 01-3 0L1 4a2.6517 2.1213 45 013.0988-2.9012l8.5 8.5z"></path></svg>\n    </div>\n    \x3c!--<transition name="rolldown">--\x3e\n      <div class="hours-ctnr" v-show="expanded">\n        <template v-for="item in _hours">\n          <span>{{ i18n.getOpeningDays(item[0]) }}</span>\n          <span>{{ i18n.getOpeningHours(item.slice(1).join(\', \')) }}</span>\n        </template>\n      </div>\n    \x3c!--/transition>--\x3e\n  </div>\n  '});
//# sourceMappingURL=opening-hours.js.map
