'use strict';class Mapping{static mapLocation(e,r){return null==e&&(e={}),{address:e.Address||'',city:e.City||'',zipCode:e.ZipCode||'',region:e.State||'',country:e.Country||'',latitude:e.Latitude||0,longitude:e.Longitude||0,source:r||e.Source||'',auto:!!e.auto,type:e.PlaceType||''}}static mapProducts(e=[]){return e.map((e=>({id:e.pid||'',name:e.pname||'',name2:e.pname2||'',imgUrl:e.pimgurl||'',description:e.pdescr||'',longDescription:e.plongdescr||'',ean:e.ean||'',eans:e.eans||[],default:e.default||!1,brand:e.pbr||'',brandImgUrl:e.pbrimgurl||'',pkg:e.ppckg||'',distribution:e.dn||0,retailers:e.rets||[],thumbImgUrl:e.ptbimgurl||'',moreContentUrl:e.cturl||'',moreContentImgUrl:e.ctimgurl||',',indb:e.indb,tags:e.tags||[],ratings:{reviewCount:e.reviewct,average:e.avgrating,roundedAverage:e.rdavgrating},model:e.model||'',catName:e.catname||'',sourcePid:e.srcpid||'',range:e.range||'',productLine:e.productLine||''})))}static _replaceMacros(e,r={}){const t=['PAGEID','IID','SID','SURL','RFR2','SRFR','RFR'];for(let a=0;a<t.length;a++)r[t[a]]&&(e=e.replace(`{SWN-${t[a]}}`,encodeURIComponent(r[t[a]])));return e}static mapAvailabilities(e=[],r){return e.map((e=>{const t=Utils.uuid().replace(/-/g,''),a=e.clkurl?Mapping._replaceMacros(e.clkurl,r):'';return{product:{id:e.pid||'',ean:e.ean||'',name:e.pname||'',img:e.pimgurl||'',thumbImgUrl:e.ptbimgurl||'',pkg:e.ppckg||'',containing:e.pcont||'',retailerPdtId:e.rpid||'',url:e.purl||'',available:e.av||!1},retailer:{id:e.rid||0,code:e.rcode||'',name:e.rname||'',url:e.rurl||'',logo:e.rlogo||'',logoId:e.rlogoid||'',isDefaultLogo:e.rlogodefault||!1,affiliate:e.raff||!1,affiliatePrgId:e.raffprgid||null,isTiedHouseLaw:e.isTiedHouseLaw||!1},store:{id:e.sid||'',name:e.sname||'',location:{address:e.saddr||'',zipCode:e.szc||'',city:e.scity||'',latitude:e.slat||0,longitude:e.slng||0},amz:e.amz||!1,typologyId:e.stid||0,openingType:e.sopeningt||0,opening:e.sopening||'',openingStruct:e.sopeningstruct||null,homeDelivery:e.shd||!1,homeDeliveryAll:e.shda||!1,collect:e.scollect||!1,drive:e.sdrive||!1,brick:e.sbrick||!1,url:e.surl||'',gmapUrl:e.sgmapurl||'',distance:e.sdst||0,phone:e.sphonenumber||'',phoneIntl:e.sphoneintl||'',whatsapp:e.swhatsapp||'',tags:e.stags||null,imgUrl:e.simgurl||'',openingHours:Mapping._parseOpeningHours(e.sopeningschema),openingType:e.sopeningt||null,open24:e.sopen24||!1,timezone:e.stz||'',appointmentUrl:e.sappointmenturl||''},nearestStore:null,price:{canShow:e.prok||!1,amount:e.pr||0,unitPrice:e.upr||0,unitPriceLbl:e.uprlbl||'',refPrice:e.refpr||0,promo:e.pmo||!1,promoType:e.pmotype||0,promoLbl:e.pmolbl||'',promoPct:e.pmopct||0,promoAmount:e.pmoam||0,currency:e.currency},priority:e.priority||!1,cartUrl:e.carturl||'',rawClkUrl:a,clkUrl:a?a.replace('{SWN-LEADID}',t):'',clkUrlType:e.clkurlt||0,clkUrlAffiliate:e.clkurlaff||!1,leadid:t,lockdown:!!e.slockdown}}))}static mapPdtFilters(e){return null==e?[]:e.map((e=>{let r;switch(e){case'pbr':r='brand';break;case'pname':r='name';break;case'ppckg':r='pkg';break;case'pdescr':r='description';break;default:r=e}return r}))}static _parseOpeningHours(e){return e&&0!==e.length?e.map((e=>e.split(' '))):null}}
//# sourceMappingURL=mapping.js.map
